ip a            #shows network configuration
hostname -I     #-I for only ip
ifconfig        #shows network configuration + traffic statistics
iwconfig        #only wireless info
ip route        #default gateway or 'ip rout'
route -n        #-n is for showing the ip addresses
netstat -tunlp  #network port information, similar: ss -ltnp OR ss -tupln OR ss -atpu
arp -a          #displays the kernels ipv4 network neighbour cache, ip-macaddress
netstat -natup  #active internet connections and listening services

# change computer name
file: /etc/hostname
file: /etc/hosts

# renew ip
sudo dhclient -r {network-interface}  #release current ip, windows: ipconfig /release
sudo dhclient {network-interface}     #obtain a new ip, windows: ipconfig /renew

# ping
ping {ip OR url}       #'localhost' is a valid address, Ctrl+c to stop, with url test the dns as well
ping -c {number} {ip}  #only sends a number of packets

# traceroute
traceroute {ip OR url}

# ip information about urls
dig @{dnsserver} {url}
nslookup {url} {dnsserver}
host {url} {dnsserver}
whois

# NetworkManager on the cli
sudo nmtui
# information about network connections managed by NetworkManager
file: /etc/NetworkManager/system-connections/

nmcli device wifi                #show available wifi networks
nmcli device wifi show-password  #show current connected wifi password + QR-code
netsh wlan show profiles         #windows show wifi credentials

---------- dns ---------------------------------------------------------------
file: /etc/hosts                        #local dns rules your system looks here first
resolvectl status                       #dns config on each network interface
sudo systemctl status systemd-resolved  #dns resolver status

systemd-resolve --status                #what dns server is being used
sudo systemd-resolve --flush-caches     #flush out DNS cache

# to-do: where should i configure dns in debian server?
# help: https://www.tecmint.com/set-permanent-dns-nameservers-in-ubuntu-debian/

---------- static ip ---------------------------------------------------------
# on ubuntu cloud(program) can manage the interface.. so find out if it does and disable it!
file: /etc/cloud/cloud.cfg.d/subiquity-disable-cloudinit-networking.cfg
	network: {config: disabled}

# Ubuntu server usually uses networkD, desktop uses Network-Manager
# look at the netplan configuration, you can change which to use by editing this file.
# set that static ip with networkD. help: https://netplan.io/examples/
file: /etc/netplan/00-installer-config.yaml
	network:
	  ethernets:
	    <NETWORK_INTERFACE>:
	      addresses:
	      - <STATIC_IP>/24
	      gateway4: <GATEWAY_IP>
	      nameservers:
	        addresses:
	        - <DNS_IP_1>
	        - <DNS_IP_2>
	        search: []
	  version: 2

#check if the file configured correctly!
sudo netplan try  #kills the network connection! you need to be at the server!
sudo netplan apply
sudo reboot

# Set to dynamic ip.
file: /etc/netplan/00-installer-config.yaml
	network:
	  ethernets:
	    <NETWORK_INTERFACE>:
	      dhcp4: true
	  version: 2

# static IP on Debian
file: /etc/network/interfaces  #the dns is NOT read from here
	# The primary network interface
	auto <NETWORK_INTERFACE>
	iface <NETWORK_INTERFACE> inet static
	  address <STATIC_IP>
	  netmask 255.255.255.0
	  gateway <GATEWAY_IP>
	  dns-nameservers <DNS_IP_1> <DNS_IP_2>

sudo systemctl restart networking  OR  sudo systemctl restart networking.service
