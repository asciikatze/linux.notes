ip a            #shows network configuration
hostname -I     #shows ip
ifconfig        #shows network configuration + traffic statistics
iwconfig        #only wireless info
ip route        #default gateway or 'ip rout'
route -n        #-n is for showing the ip addresses
arp -a          #displays the kernels ipv4 network neighbour cache, ip-macaddress
netstat -tunlp  #network port information, similar: ss -ltnp OR ss -tupln OR ss -atpu 
sudo watch netstat -natup  #active internet connections and listening services. use this!

# change computer name
file: /etc/hostname
file: /etc/hosts

# renew ip
sudo dhclient -r {network-interface}  #release current ip, windows: ipconfig /release
sudo dhclient {network-interface}     #obtain a new ip, windows: ipconfig /renew

# ping
ping {ip OR url}       #localhost is a valid address, Ctrl+c to stop, with url test the dns as well
ping -c {number} {ip}  #only sends a number of packets

# traceroute
traceroute {ip OR url}

# ip information about urls
dig @{dnsserver} {url}
nslookup {url} {dnsserver}
host {url} {dnsserver}
whois

# NetworkManager on the cli
sudo nmtui
# information about network connections managed by NetworkManager
file: /etc/NetworkManager/system-connections/

nmcli device wifi                #show available wifi networks
nmcli device wifi show-password  #show current connected wifi password + QR-code
netsh wlan show profiles         #show known wifi networks in windows

watch 'nmcli device wifi | grep -E "IN-USE|{networkname}|{networkname}"'  #monitor two wifi networks

-+-+-+-+-+-+ dns +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
file: /etc/hosts                        #local dns rules. your system looks here first

resolvectl status                       #dns config on each network interface
systemd-resolve --status                #what dns server is being used
sudo systemctl status systemd-resolved  #dns resolver status
sudo systemd-resolve --flush-caches     #clear DNS cache

# to-do: where should i configure dns in debian server?
# help: https://www.tecmint.com/set-permanent-dns-nameservers-in-ubuntu-debian/

-+-+-+-+-+-+ static ip +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
# Ubuntu server usually uses networkD, desktop uses Network-Manager
# set that static ip with networkD:
file: /etc/netplan/00-installer-config.yaml
  network:
    ethernets:
      {NETWORK_INTERFACE}:
        addresses:
        - {STATIC_IP}/24
        gateway4: {GATEWAY_IP}
        nameservers:
          addresses:
          - {DNS_IP}
          - {DNS_IP}
          search: []
    version: 2
# help: https://netplan.io/examples/

#check if the file configured correctly!
sudo netplan try  #kills the network connection! you need to be at the server!
sudo netplan apply
sudo reboot

# set to dynamic ip with networkD:
file: /etc/netplan/00-installer-config.yaml
  network:
    ethernets:
      {NETWORK_INTERFACE}:
        dhcp4: true
    version: 2

# on Ubuntu cloud-init can manage the interface.. so find out if it does and disable it!
file: /etc/cloud/cloud.cfg.d/subiquity-disable-cloudinit-networking.cfg
  network: {config: disabled}
# help: https://cloudinit.readthedocs.io/en/latest/reference/network-config.html

# static ip on Debian
file: /etc/network/interfaces  #dns is NOT set from here !
  # The primary network interface
  auto {NETWORK_INTERFACE}
  iface {NETWORK_INTERFACE} inet static
    address {STATIC_IP}
    netmask 255.255.255.0
    gateway {GATEWAY_IP}
    dns-nameservers {DNS_IP} {DNS_IP}

sudo systemctl restart networking  OR  sudo systemctl restart networking.service

-+-+-+-+-+-+ lan cable +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
# looking at the bottom, cable towards you, on the left is pin-1 on the right is pin-8
# both end needs to be the same, but B is the most common method

RJ45 T568 A        RJ45 T568 B     #USE THE B VERSION!
1 white-green      1 white-orange
2 green            2 orange
3 white-orange     3 white-green
4 blue             4 blue
5 white-blue       5 white-blue
6 orange           6 green
7 white-brown      7 white-brown
8 brown            8 brown

# legacy hardware may need crossover cable for point to point connection: one end is A other is B
# but the need for it is very unlikely most old hardware work with straight through cable in that case
# different crossover methods exist, always good practice to read the documentation

